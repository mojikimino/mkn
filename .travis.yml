language: python
jobs:
  include:
  - services: docker
  - os: osx
    language: shell
  - os: windows
    language: shell
    before_install:
    - choco install python --version 3.8.0
    - export PATH="/c/Python38:/c/Python38/Scripts:$PATH"
    - ln -s /c/Python38/python.exe /c/Python38/python3.exe
env:
  global:
  - TWINE_USERNAME=QCTDZNx6yOYzuZZTK47G2eNXpteNayotVyU7y4Ix/2bBo8/KH9UXx1rTXo/qA4nIl81N4kWI6t3cALaDCUl3V0C2Y6CT9vnW8okc8oNjZQHpFrSGhUeNrzxa2t8Of5TZe27Q63S2PXjJK9rkTyoWAAfiXcCC/wmZeN0IAHblciNqq47YYvdhwE2UB2KMnct+Hlscc1c9xiZ6gbNu89c0x9da6WbEO0X7Qs+zjtjh8UKd3P0Mcr1uD+UkWTdDK2OAK81/hsRuRoTjKi/qBw5mHwP9K6CtYFtkT2y8nMT/6ftqfY9oX+coYNLilEMDLw9bE7EyFREYp2vD4aWMxstL/n5NmG0sxhz/JADEk7W68Myu+vSswTVhNuCWGJAJxP2pMDp3CxrlROwFl0r5m3Wlz3nCjmLdMdJJr8qBJKW0c1qN7CZ0StTmuy+sHas/sPRy/JrtodRhKYpFR6TyzQDt5lw6ZZymjrNuSUcwQ77IZ/9JXe61gvBUnjqcaNa1bYLPtlWf9C9/Q8UW9vHTBYIItGsYYiibUFyP2LPFhWHmwWl8HEfMcSf0v8OxYHzQ7VClduhhvj8kZPNDCFRd6fspgP43ATnSApPgSXtzdbiJ/MIr8AkuKeWmPxQpEcJe+3HuH6ylw4CH2X6Ix/QI8b4nVDoF5m09b5LuXaE9BQKdMTw=
install:
- python3 -m pip install cibuildwheel==1.3.0
script:
- python3 -m cibuildwheel --output-dir wheelhouse
after_success:
- |
  if [[ $TRAVIS_TAG ]]; then
    python3 -m pip install twine
    python3 -m twine upload wheelhouse/*.whl
  fi
