language: python
jobs:
  include:
  - services: docker
  - os: osx
    language: shell
  - os: windows
    language: shell
    before_install:
    - choco install python --version 3.8.0
    - export PATH="/c/Python38:/c/Python38/Scripts:$PATH"
    - ln -s /c/Python38/python.exe /c/Python38/python3.exe
env:
  global:
  - TWINE_USERNAME=__token__
  - secure: kXUVAS558fFlKKB8ZCNmYWeRz8zIgMhQfwrw5Q5COvffH65zc2ScVTqB2hgAaItD/owebvXEcxCa8aTsrtU+vImMHahv3S7Vwpvq59nKTt5V7lL+NHKHQSPknIMVBKLUTSDEhmiq9C+3O+tfSdra+IwmRRe+nHGb/HiHI2j8+V23k6qN36mchba+LbiBrQPII3nSwktZfpoMa++9mNPaWszAfyPx0gdGPKUI2bW6ZfwCGG74+/CJ4vyyJ7qmaTSp/iHq43aWK7dPVQBKw4SNMtnn/X7ufyi06x+TVmeFvJMiZwzml7Vkm2YUNobb9AoDLwv9jUWlO65HSyVFDSUpA2vCBRPLoYPVumrbxAAwg+uiJUxpxGNw4V644efwNuwtBaCRSvFj28X+0LooOdTvjPuu8LgTgR6lXX4bixrnlbkgTHFnc1j6nUhai3d1acqGBxaC6hciTHLwjRRyKl7jn2NjGdjGv9M4rwkcQ9GRlbkbCI6V/sANjFP1LNiNR9rw2UAQskbbOAe4vmMhk37Ckb+64Jq074BHLDNSiOoEhkr+FlBDzXOvXPcvNZkUTZf3V2XJPF4n/mc0lQkx0cCKQBTby/vBUj5MRM317BaCJG1z+bL1m0IYHvmEfYYgH1jIXmsURI5GZkijsN2IyDEd8f3otkOg3LR+HFD3n0mmB+g=
install:
- python3 -m pip install cibuildwheel==1.3.0
script:
- python3 -m cibuildwheel --output-dir wheelhouse
after_success:
- |
  if [[ $TRAVIS_TAG ]]; then
    python3 -m pip install twine
    python3 -m twine upload wheelhouse/*.whl
  fi
