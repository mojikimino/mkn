language: python
jobs:
  include:
  - services: docker
  - os: osx
    language: shell
  - os: windows
    language: shell
    before_install:
    - choco install python --version 3.8.0
    - export PATH="/c/Python38:/c/Python38/Scripts:$PATH"
    - ln -s /c/Python38/python.exe /c/Python38/python3.exe
env:
  global:
  - TWINE_USERNAME=__token__
install:
- python3 -m pip install cibuildwheel==1.0.0
script:
- python3 -m cibuildwheel --output-dir wheelhouse
after_success:
- |
  if [[ $TRAVIS_TAG ]]; then
    python3 -m pip install twine
    python3 -m twine upload wheelhouse/*.whl
  fi
deploy:
  password:
    secure: oTfPeD3LBSRSVWmIOGY2W0sPGJqHoff4VBCeyCDd0K4eam4KswXhslT1hQUXUh5gtH0yV+0dSbLu4vZtM+C+Ids1ZwL2dfGQoUVveFcI2NyXwB9GmzirCsnPN60nC5me680V8iylafW1rAktkZMOCnGh3FT9FQOInINsg8QzM3N3jT29Cz/DaZAF6/OLuz6H7eyGG2Ek5tqyN6XFD+CVtdVf3j8STFtknaJdrmyA3Qkr3tuK9nCheRACY6D2EuYKtW1wggY8Lb00qUnYZgnXyq37Y6wgyIaVv2KVxhjEVZ47c2zFZFqIatic8+4AhXf0Vw4adz4PsbFiaroCJrZPaQqCjcd7kFWoKxMzlPebLLjzgUcGfa+tAPk5uY9YGM90f/6NTmd6NObSzP+DfYoxha0tKumc3T9ACFlBYtqKPzHMbFFpge17pFSQtRf5otZ19D5b1uga3r0OZSs5tEvzURVIl8TUB5gn78Mc/BnlI3ZEnWxopHHTTF7ewDoKaqAK8j1peeWzjRhPWbhcssxRYavD2iCCDp3ylA2okHTBjtn/J8CNl3cjGuE7mab4tTMctLfJ8GJOwuqW+xF5V9ZMpZM5t/xTpQ+LuVTKntjiMZk0l7VQtPl+tjF2Lk/rcYY17SpbOVQrlwmTdGjYv6voazrzFNlnUhvIUYvQVLDOT2w=
