language: python
jobs:
  include:
  - services: docker
  - os: osx
    language: shell
  - os: windows
    language: shell
    before_install:
    - choco install python --version 3.8.0
    - export PATH="/c/Python38:/c/Python38/Scripts:$PATH"
    - ln -s /c/Python38/python.exe /c/Python38/python3.exe
env:
  global:
  - TWINE_USERNAME=__token__
install:
- python3 -m pip install cibuildwheel==1.3.0
script:
- python3 -m cibuildwheel --output-dir wheelhouse
after_success:
- |
  if [[ $TRAVIS_TAG ]]; then
    python3 -m pip install twine
    python3 -m twine upload wheelhouse/*.whl
  fi
enb:
  global:
    TWINE_USERNAME:
      secure: xPXNs4WoE/90cJc3dYERm60QmmO0aBwmiMzRSBomio9qgMZIEqwotBC343c/3TcDrXmYNVTTkZ68EldiivbWgCLHofWJ5iz/X8bhLs74vvd4ub92lI8BXSO5fGOnp3I+PTg9abfViTAyO6GcrHNBYcJAsddl4lRHiPhsCHGq51ZbdOiEgA3jUMqPxrcHtENVATfk2uLHu2nxr4HLlr2NFZ7WxNR0PvqMgsxKhSHNsEYr6mdKzGroft7Pr+OBC7ixTzkkqXUuoaC/WJblo6fvbU9kxJ8FZsbdZmKSHXI4BmhFH8gihkW92xZqzTuqLMZqVBaXMKp2pMzGKZCOHO/JZIz5RPzGLUrozDS/hpvXAJyeDBXWgccA44wL5e7041YYWm+LcOa4EZgKtTFgkeT/e6U3Yz5W1itXQ3kIWMJ7T8u/OXJbJ3POBU7yY4fRnjI3ENnyfhtl6m9Ppo059SLXTlWAIt3B5tzzcZHktMRo4ahy3EWIvJsCC7lhfthA7aL9zeSrQaa/SMLf5rxnH1n8HapL/Z69XOS+R4UIJYi9gRrQNVjpXq6jl4kYY3WqUmAFY51ZBBD7cVEOvx6UG5jLKlRNI5VgNlPcMbYq/6ReRffjhUsCuvB4k+WIAf2MZO7rQczzmlimd0TDit4tWN5StMbE/mvWIdSpwpB+0eSDDQo=
