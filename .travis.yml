language: python
jobs:
  include:
  - services: docker
  - os: osx
    language: shell
  - os: windows
    language: shell
    before_install:
    - choco install python --version 3.8.0
    - export PATH="/c/Python38:/c/Python38/Scripts:$PATH"
    - ln -s /c/Python38/python.exe /c/Python38/python3.exe
env:
  global:
  - TWINE_USERNAME=__token__
  - TWINE_PASSWORD=ak82tTt/S4LCvpDdR2bEkfuT/Y0HfXlVe/rHTZc8e8xBremKp7lTin6n6HBbPDRlNqN1m0vLvS2/bxvLBoBcw257ljEhdslu8vqaeaz1n+WbyUjZZEhkGozg+NvyFIOlV4ktYpoSv67qUDI6XLJZ95N40i/C37V53UYG5TP9i7zZHWSXnzd2KwVxLVZAheqUWnQQhiyjDoyqCQN3epNV8f/L5sZ9bZN44Joob1oJNCyh2JxIfYVImSbQszlO6G41lZsrVbKuLkOk45/auSNg0GPcQF8i4phb/0xQU6dT1t9s9OjMW0S/6nWJVICn0uD1LpCM/USICJbpq3Ai6a4bA+HvS98M3OYpDCMV3qE+osZKI8NxtTe1Sbp+FMvWlr32xyHoD85AxgEHaugjFldxN+RgtZpxL1rJTvDvBC7KKT25OJEFQ0Nfd1ve59Rt7JcG0GiZafDznrbREgKtfjLLNazUbfd4XCkZm0yxFN5SQbT1QTXOZJdtYM+fHgJtM/EYz40wudtGgeruW9jKZQ/oDGn8zmMaWJCpOnyOjXVPE4RtLCPRCFdlYCCwrq/7l5SwB9oBXMgHLZIKOH3g5cRtI4xdA8xl33/mkyXEJyg5DCbNXtBkFugvdKaFnsXv6Z+wTn2Vt64qu+YlNVSadwQ9Higf+VD4T+1FVbShxSvdIos=
install:
- python3 -m pip install cibuildwheel==1.3.0
script:
- python3 -m cibuildwheel --output-dir wheelhouse
after_success:
- |
  if [[ $TRAVIS_TAG ]]; then
    python3 -m pip install twine
    python3 -m twine upload wheelhouse/*.whl
  fi
