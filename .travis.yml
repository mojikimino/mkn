language: python
jobs:
  include:
  - services: docker
  - os: osx
    language: shell
  - os: windows
    language: shell
    before_install:
    - choco install python --version 3.8.0
    - export PATH="/c/Python38:/c/Python38/Scripts:$PATH"
    - ln -s /c/Python38/python.exe /c/Python38/python3.exe
env:
  global:
  - TWINE_USERNAME=__token__
  - secure: busXjEU2gZDz9FAzOBs1mFiAErE+i5wd1YrIKc6g6ZGqK1GY7e9W9OI9gs7CRfFuk8wQaXetylB+AW7mMV9oELSOz9L2BT4/acPl5zmI9rnt4sbDk65yiP5FXCiyLvyWDhIV8rS47LrcxGJzE2v8w5NWYOV/BcHghPfW7Ezdo4w194O48LIccFQHDPjlMIioS2GmEmiXCNbAMpbsxOyE+jz7NzE050GNDj7OFv8tQGxslF5RPn+/wT432Oq8tvY1irndKRSsDA5VrMKo/uB07ntWoIhxPQqMTb+0UY5PSwtEc76hSr4/fW/YwFm2obS9Nw0/1q0/PnHc4qaJHCuDhku0A3HePZJCKaSUK4IbBM47Zvy0gvxwGj/MIcUAV0xNqWSmmh1wflpBv3bV3CYAXciHjRpUn4KXQkSqVGC0VB5mAHzItLUW6Vx4pyIRwPqRhC9jn0Tfm/rlgS9cA2CLbSQBJDPwZM/LqPKAXCg8/jEewjg+/HeVpODuNLaox6CbIozTne+wNukJuGCr6YUynLYZFv5o/1WTyuGuhsOD2XdhDY1aPYNt8zYkiJTOzEewCjTRN/lhVivioKb2T+fDkBy5RPZJSGX5DU3NOSu1UuJKvfqaZ9obBfuflzv/IQXdl98InYjwc7hb1smX4deD0e1+7Q4MkWUCk66x7bC0slg=
install:
- python3 -m pip install cibuildwheel==1.3.0
script:
- python3 -m cibuildwheel --output-dir wheelhouse
after_success:
- |
  if [[ $TRAVIS_TAG ]]; then
    python3 -m pip install twine
    python3 -m twine upload wheelhouse/*.whl
  fi
