language: python
jobs:
  include:
  - services: docker
  - os: osx
    language: shell
  - os: windows
    language: shell
    before_install:
    - choco install python --version 3.8.0
    - export PATH="/c/Python38:/c/Python38/Scripts:$PATH"
    - ln -s /c/Python38/python.exe /c/Python38/python3.exe
env:
  global:
  - TWINE_USERNAME=vTkFCTH1UupUdtCBt03lwvhx6e6QGCIoihAjJKxtUIM2V7Kg6kl22YFuFgzbDbtPd3DDOIMZuYi44tdv5Brj0ReYZwPv5cBX1Z8R3c426KNCoRm5rpoZWcXwP3aTLXOmeZxff0KU6IpM4jV3jt2rETrHR8tVEyY53fD7DTfiswujTEZ2H/IUKOysEcD9LV5OQcuuIVspr67woqLGrXPGyFJR04OaL9uokWU7vR68TmVL58B3Waz9QmbKjL3Cly6H9SKgZVk9QnRnnNEc2nGmM1bU5jDcj2NSx5ia4/ihAclWaXMNKvcfUxoZaEaMC6f0qO0WAAS6McMOxZZYEjG9HlosjOplBIIcJULZVWkIaDSa+u7CIHQfDbEeMaqSySa3SIz14PHgRB7bElt+/2ygvWyC2hequqASk8jDyfWdJLkBRpPRnrPnKRliY4JSxpq24abjd+eyN22BTae+k2/dI5xysQITLxuHyJVDARw/iNEa3FWP4a1jFatOve/LyMMZ2Up5IJ43DSlHL3ihAnYwXXQ4+LbKjQ5lFqBxYgO8BS1qdqF4Vr7r6DLhVmpDwjkRLU+NmBrktgzMuGzq7D49ae7lfxCVY1k3pC85AtYHj0xz3klc/n8w8ZG/oo3kR25c94lf7k1lzbIwrDZvFh6ocUzwT673qM4N/hWG/1Mhh2A=
install:
- python3 -m pip install cibuildwheel==1.0.0
script:
- python3 -m cibuildwheel --output-dir wheelhouse
after_success:
- |
  if [[ $TRAVIS_TAG ]]; then
    python3 -m pip install twine
    python3 -m twine upload wheelhouse/*.whl
  fi
